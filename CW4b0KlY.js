import{e as t,A as T,d as q,j as Q,k as F,l as G,m as J,n as C,r as b,p as W,a as l,b as _,q as v,w as e,t as d,v as O,g as c,f as k,x as X,y as z,c as Y,z as Z,B as ee,h as te,u as oe,C as ne,D as ae,E as se}from"./assets/index-C6pTAYbS.js";import{g as le}from"./VZphCaC4.js";import{_ as re}from"./DlAUqK2U.js";var ce={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"}}]},name:"menu",theme:"outlined"};const ue=ce;function M(o){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?Object(arguments[n]):{},s=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(a).filter(function(u){return Object.getOwnPropertyDescriptor(a,u).enumerable}))),s.forEach(function(u){ie(o,u,a[u])})}return o}function ie(o,n,a){return n in o?Object.defineProperty(o,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[n]=a,o}var w=function(n,a){var s=M({},n,a.attrs);return t(T,M({},s,{icon:ue}),null)};w.displayName="MenuOutlined";w.inheritAttrs=!1;const de=w,pe="/assets/logo-QnzrzBtt.jpg",j=o=>(ae("data-v-8c9a6b5e"),o=o(),se(),o),me=j(()=>c("img",{alt:"logo",class:"rounded-full w-12 h-12",loading:"lazy",src:pe},null,-1)),_e={class:"flex items-center"},fe={key:1},ye={class:"flex sm:flex-col"},ve={class:"flex sm:flex-col"},ke=j(()=>c("span",null,"服务器时间：",-1)),ge={class:"text-blue-500"},he=q({__name:"homeLayout",setup(o){const n=te(),a=oe(),s=Q(),u=F(),[B]=G(),I=J({backgroundColor:"transparent"}),U=C(()=>s.userInfo),p=b([window.location.pathname]),x=b([{key:"/home",label:"首页"},{key:"/order",label:"我的订单"},{key:"/copilot",label:"Copilot",children:[{key:"/copilot-package",label:"套餐列表"},{key:"/copilot-usage-history",label:"使用记录"}]},{key:"/purse",label:"钱包明细"}]);W(n,f=>{p.value=[f.path]});const m=b(!1);function S({key:f}){a.push(f),m.value=!1}const D=C(()=>le(u.timeStamp)),N=s.logout;function P(){window.open(`${ne}/oauth/discourse/redirect?callback_url=${location.origin}/redirect`,"_self")}return(f,r)=>{const g=l("router-link"),h=l("a-menu"),$=l("a-menu-item"),A=l("a-dropdown"),y=l("a-button"),E=l("a-drawer"),K=l("a-layout-header"),L=l("router-view"),V=l("a-layout-content"),H=l("a-layout-footer"),R=l("a-layout");return _(),v(R,{class:"bg-transparent flex flex-col"},{default:e(()=>[t(K,{class:Z([{dark:d(B)},"header flex items-center justify-between w-full z-10 fixed transition sm:ps-[1.25rem!important] sm:pe-[1.25rem!important]"]),style:ee(I)},{default:e(()=>[t(g,{to:"/"},{default:e(()=>[me]),_:1}),d(s).account_id?(_(),v(h,{key:0,selectedKeys:p.value,"onUpdate:selectedKeys":r[0]||(r[0]=i=>p.value=i),items:x.value,class:"flex sm:hidden",mode:"horizontal",onClick:S},null,8,["selectedKeys","items"])):O("",!0),c("div",_e,[d(s).account_id?(_(),v(A,{key:0,placement:"bottom"},{overlay:e(()=>[t(h,null,{default:e(()=>[t($,{onClick:d(N)},{default:e(()=>[k("退出登录")]),_:1},8,["onClick"])]),_:1})]),default:e(()=>[c("a",{class:"ant-dropdown-link",onClick:r[1]||(r[1]=X(()=>{},["prevent"]))},z(U.value.nick_name),1)]),_:1})):(_(),Y("span",fe,[t(y,{onClick:P},{default:e(()=>[k("登录")]),_:1})])),d(s).account_id?(_(),v(y,{key:2,type:m.value?"primary":"text",class:"hidden sm:block",onClick:r[2]||(r[2]=i=>m.value=!0)},{icon:e(()=>[t(d(de))]),_:1},8,["type"])):O("",!0)]),t(E,{open:m.value,"onUpdate:open":r[4]||(r[4]=i=>m.value=i),placement:"right"},{default:e(()=>[t(h,{selectedKeys:p.value,"onUpdate:selectedKeys":r[3]||(r[3]=i=>p.value=i),items:x.value,mode:"inline",style:{"border-inline-end":"0",background:"transparent"},onClick:S},null,8,["selectedKeys","items"])]),_:1},8,["open"])]),_:1},8,["class","style"]),t(V,{class:"dark:text-white flex-1 content sm:px-5 pt-20"},{default:e(()=>[t(L)]),_:1}),t(H,{class:"flex justify-between"},{default:e(()=>[c("div",ye,[t(g,{to:"/"},{default:e(()=>[t(y,{type:"link"},{default:e(()=>[k("首页")]),_:1})]),_:1}),t(g,{to:"/refund-agreement"},{default:e(()=>[t(y,{type:"link",href:"/refund-agreement"},{default:e(()=>[k("退款协议")]),_:1})]),_:1})]),c("div",ve,[ke,c("span",ge,z(D.value),1)])]),_:1})]),_:1})}}}),Se=re(he,[["__scopeId","data-v-8c9a6b5e"]]);export{Se as default};
