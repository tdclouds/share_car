import{u as S}from"./DDJBs58D.js";import{d as U,r as f,j as n,w as B,o as D,c as _,e as H,n as b,l as v,I as L,m as i,b as s,J as Y,K as z,k as d,T as g}from"./assets/index-B6Sr_t6A.js";import{b as F}from"./BVnzyxI2.js";const M={class:"w-[1200px] m-auto"},R={class:"flex items-start justify-between mb-4"},O=U({__name:"index",setup(T){const h=[{title:"充值时间",dataIndex:"recharge_time_label"},{title:"活动状态",dataIndex:"status_label"},{title:"数据来源备注",dataIndex:"source"},{title:"数据原因",dataIndex:"reason"},{title:"过期时间",dataIndex:"expire_time"},{title:"创建时间",dataIndex:"created_at"}],t=f({page:1,limit:10}),w=n(!1),r=n(!1),m=n([]),c=n([]),l=f({current:t.page,pageSize:t.limit,hideOnSinglePage:!0,pageSizeOptions:["10","15","20"],showTotal(e){return`共 ${e} 条`},showSizeChanger:!0,onChange(e,o){r.value=!0,t.page=e,t.limit=o,l.current=e,l.pageSize=o},total:0}),{run:p}=S(async()=>F(L(t)).then(e=>{m.value=e.list,l.total=e.total,c.value=e.filter,x(),r.value=!1}),{debounceWait:1e3,manual:!0});function x(){c.value.forEach(e=>{e.options&&(y.value[e.name]=e.options.filter(o=>o.value!==0))})}B(t,()=>{r.value===!1&&(t.page=1,l.current=1),p()});const y=n({});return D(p),(e,o)=>{const k=i("a-form-item"),C=i("a-form"),I=i("a-table");return s(),_("div",M,[H("div",R,[b(C,{class:"filter",layout:"inline"},{default:v(()=>[(s(!0),_(Y,null,z(c.value,a=>(s(),d(k,{key:a.name,label:a.label},{default:v(()=>[a.type==="datetime"?(s(),d(g("a-date-picker"),{key:0,value:t[a.name],"onUpdate:value":u=>t[a.name]=u,placeholder:a.label,"show-time":{format:"HH:mm"},"allow-clear":"",class:"w-[180px!important] mr-2 mb-2",valueFormat:"YYYY-MM-DD HH:mm:ss"},null,40,["value","onUpdate:value","placeholder"])):(s(),d(g("a-"+a.type),{key:1,value:t[a.name],"onUpdate:value":u=>t[a.name]=u,options:a.options,placeholder:a.label,"allow-clear":"",class:"w-[180px!important] mr-2 mb-2"},null,40,["value","onUpdate:value","options","placeholder"]))]),_:2},1032,["label"]))),128))]),_:1})]),b(I,{columns:h,dataSource:m.value,loading:w.value,pagination:l,"row-key":a=>a.source,bordered:"",class:"w-full mb-4"},null,8,["dataSource","loading","pagination","row-key"])])}}});export{O as default};
