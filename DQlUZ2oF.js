import{u as F}from"./CjPhPL0q.js";import{d as H,m as L,r as o,p as Y,o as z,a as c,b as l,c as i,g as a,e as m,w as g,F as b,I as h,J as M,q as _,T as y,y as r}from"./assets/index-DPSsBdy6.js";import{b as R}from"./BNWoJ930.js";const T={class:"w-[1200px] max-w-full m-auto"},q={class:"flex items-start justify-between mb-4"},E={class:"flex flex-wrap gap-5 mb-5"},N={class:""},S={class:"flex items-center justify-between"},V=a("span",{class:"text-gray-600"},"充值时长",-1),I={class:"flex items-center justify-between"},J=a("span",{class:"text-gray-600"},"活动状态",-1),W={class:"flex items-center justify-between"},$=a("span",{class:"text-gray-600"},"使用记录",-1),A={class:"flex items-center justify-between"},G=a("span",{class:"text-gray-600"},"过期时间 ",-1),X=H({__name:"index",setup(K){const t=L({status:null,page:1,limit:15}),u=o(!1),f=o([]),p=o([]),w=o(0);function x(){u.value=!0}const{run:v}=F(async()=>R(M(t)).then(s=>{f.value=s.list,p.value=s.filter,k(),u.value=!1}),{debounceWait:1e3,manual:!0});function k(){p.value.forEach(s=>{s.options&&(U.value[s.name]=s.options.filter(n=>n.value!==0))})}Y(t,()=>{u.value===!1&&(t.page=1),v()});const U=o({});return z(v),(s,n)=>{const j=c("a-form-item"),C=c("a-form"),D=c("a-divider"),B=c("a-pagination");return l(),i("div",T,[a("div",q,[m(C,{class:"filter sm:hidden",layout:"inline"},{default:g(()=>[(l(!0),i(b,null,h(p.value,e=>(l(),_(j,{key:e.name,label:e.label},{default:g(()=>[e.type==="datetime"?(l(),_(y("a-date-picker"),{key:0,value:t[e.name],"onUpdate:value":d=>t[e.name]=d,placeholder:e.label,"show-time":{format:"HH:mm"},"allow-clear":"",class:"w-[180px!important] mr-2 mb-2",valueFormat:"YYYY-MM-DD HH:mm:ss"},null,40,["value","onUpdate:value","placeholder"])):(l(),_(y("a-"+e.type),{key:1,value:t[e.name],"onUpdate:value":d=>t[e.name]=d,options:e.options,placeholder:e.label,"allow-clear":"",class:"w-[180px!important] mr-2 mb-2"},null,40,["value","onUpdate:value","options","placeholder"]))]),_:2},1032,["label"]))),128))]),_:1})]),a("div",E,[(l(!0),i(b,null,h(f.value,e=>(l(),i("div",{class:"bg-white dark:bg-gray-800 p-4 rounded sm:w-full w-[386px]",key:e.source},[a("div",N,r(e.source),1),m(D,{class:"my-2"}),a("div",S,[V,a("span",null,r(e.recharge_time_label||"0"),1)]),a("div",I,[J,a("span",null,r(e.status_label||"0"),1)]),a("div",W,[$,a("span",null,r(e.reason||"无"),1)]),a("div",A,[G,a("span",null,r(e.expire_time||"不过期"),1)])]))),128))]),m(B,{class:"flex justify-center",current:t.page,"onUpdate:current":n[0]||(n[0]=e=>t.page=e),"page-size":t.limit,"onUpdate:pageSize":n[1]||(n[1]=e=>t.limit=e),total:w.value,"hide-on-single-page":!0,onChange:x,"show-total":e=>`共 ${e} 条`},null,8,["current","page-size","total","show-total"])])}}});export{X as default};
