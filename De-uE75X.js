import{e as t,A as T,d as q,j as F,k as G,l as Q,m as J,n as C,r as b,p as W,a as l,b as y,q as k,w as e,t as c,v as O,g as u,f as _,x as X,y as M,c as Y,z as Z,B as ee,h as te,u as oe,C as ne,D as ae,E as se,G as le,H as re}from"./assets/index-BxJ_DNlw.js";import{g as ce}from"./C0xcr2QV.js";import{_ as ue}from"./DlAUqK2U.js";var ie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"}}]},name:"menu",theme:"outlined"};const de=ie;function z(o){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?Object(arguments[n]):{},s=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(a).filter(function(i){return Object.getOwnPropertyDescriptor(a,i).enumerable}))),s.forEach(function(i){pe(o,i,a[i])})}return o}function pe(o,n,a){return n in o?Object.defineProperty(o,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[n]=a,o}var w=function(n,a){var s=z({},n,a.attrs);return t(T,z({},s,{icon:de}),null)};w.displayName="MenuOutlined";w.inheritAttrs=!1;const _e=w,me="/assets/logo-QnzrzBtt.jpg",U=o=>(le("data-v-ed647696"),o=o(),re(),o),fe=U(()=>u("img",{alt:"logo",class:"rounded-full w-12 h-12",loading:"lazy",src:me},null,-1)),ye={class:"flex items-center"},ve={key:1},ke={class:"flex sm:flex-col"},he={class:"flex sm:flex-col"},ge=U(()=>u("span",null,"服务器时间：",-1)),be={class:"text-blue-500"},we=q({__name:"homeLayout",setup(o){const n=te(),a=oe(),s=F(),i=G(),[j]=Q(),B=J({backgroundColor:"transparent"}),I=C(()=>s.userInfo),m=b([window.location.pathname]),x=b([{key:"/home",label:"首页"},{key:"/order",label:"我的订单"},{key:"/copilot",label:"Copilot",children:[{key:"/copilot-package",label:"套餐列表"},{key:"/copilot-usage-history",label:"使用记录"}]},{key:"/purse",label:"钱包明细"}]);W(n,v=>{m.value=[v.path]});const f=b(!1);function S({key:v}){a.push(v),f.value=!1}const D=C(()=>ce(i.timeStamp)),L=s.logout;function R(){window.open(`${ne}/oauth/discourse/redirect?callback_url=${location.origin}/redirect`,"_self")}return(v,r)=>{const h=l("router-link"),g=l("a-menu"),d=l("a-button"),N=l("a-menu-item"),P=l("a-dropdown"),$=l("a-drawer"),A=l("a-layout-header"),E=l("router-view"),H=l("a-layout-content"),K=l("a-layout-footer"),V=l("a-layout");return y(),k(V,{class:"bg-transparent flex flex-col"},{default:e(()=>[t(A,{class:Z([{dark:c(j)},"header flex items-center justify-between w-full z-10 fixed transition sm:ps-[1.25rem!important] sm:pe-[1.25rem!important]"]),style:ee(B)},{default:e(()=>[t(h,{to:"/"},{default:e(()=>[fe]),_:1}),c(s).account_id?(y(),k(g,{key:0,selectedKeys:m.value,"onUpdate:selectedKeys":r[0]||(r[0]=p=>m.value=p),items:x.value,class:"flex sm:hidden",mode:"horizontal",onClick:S},null,8,["selectedKeys","items"])):O("",!0),u("div",ye,[t(d,{type:"link",href:c(ae),target:"_blank"},{default:e(()=>[_("论坛")]),_:1},8,["href"]),t(d,{type:"link",href:c(se),target:"_blank"},{default:e(()=>[_("文档")]),_:1},8,["href"]),c(s).account_id?(y(),k(P,{key:0,placement:"bottom"},{overlay:e(()=>[t(g,null,{default:e(()=>[t(N,{onClick:c(L)},{default:e(()=>[_("退出登录")]),_:1},8,["onClick"])]),_:1})]),default:e(()=>[u("a",{class:"ant-dropdown-link",onClick:r[1]||(r[1]=X(()=>{},["prevent"]))},M(I.value.nick_name),1)]),_:1})):(y(),Y("span",ve,[t(d,{type:"primary",onClick:R},{default:e(()=>[_("登录")]),_:1})])),c(s).account_id?(y(),k(d,{key:2,type:f.value?"primary":"text",class:"hidden sm:block",onClick:r[2]||(r[2]=p=>f.value=!0)},{icon:e(()=>[t(c(_e))]),_:1},8,["type"])):O("",!0)]),t($,{open:f.value,"onUpdate:open":r[4]||(r[4]=p=>f.value=p),placement:"right"},{default:e(()=>[t(g,{selectedKeys:m.value,"onUpdate:selectedKeys":r[3]||(r[3]=p=>m.value=p),items:x.value,mode:"inline",style:{"border-inline-end":"0",background:"transparent"},onClick:S},null,8,["selectedKeys","items"])]),_:1},8,["open"])]),_:1},8,["class","style"]),t(H,{class:"dark:text-white flex-1 content sm:px-5 pt-20"},{default:e(()=>[t(E)]),_:1}),t(K,{class:"flex justify-between"},{default:e(()=>[u("div",ke,[t(h,{to:"/"},{default:e(()=>[t(d,{type:"link"},{default:e(()=>[_("首页")]),_:1})]),_:1}),t(h,{to:"/refund-agreement"},{default:e(()=>[t(d,{type:"link",href:"/refund-agreement"},{default:e(()=>[_("退款协议")]),_:1})]),_:1})]),u("div",he,[ge,u("span",be,M(D.value),1)])]),_:1})]),_:1})}}}),Oe=ue(we,[["__scopeId","data-v-ed647696"]]);export{Oe as default};
