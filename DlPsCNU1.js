import{d as A,f as E,h as $,i as q,r as Q,j as k,k as h,w as F,l as p,m as e,a as G,u as H,n as o,b as u,p as t,q as _,t as J,v as n,e as a,x as v,y as O,c as P,z as W,A as X,B as Y,C as Z,D as ee}from"./assets/index-BpUFMd7V.js";import{g as te}from"./DOLQdZ8E.js";import{_ as oe}from"./DlAUqK2U.js";const ae="/assets/logo-QnzrzBtt.jpg",g=s=>(Z("data-v-66af73f3"),s=s(),ee(),s),ne=g(()=>a("img",{alt:"logo",class:"rounded-full w-12 h-12",loading:"lazy",src:ae},null,-1)),se={key:2},le=g(()=>a("span",null,"服务器时间：",-1)),re={class:"text-blue-500"},ce=A({__name:"homeLayout",setup(s){const w=G(),b=H(),l=E(),x=$(),[C]=q(),S=Q({backgroundColor:"transparent"}),z=k(()=>l.userInfo),i=h([window.location.pathname]),B=h([{key:"/home",label:"首页"},{key:"/order",label:"我的订单"},{key:"/copilot",label:"Copilot",children:[{key:"/copilot-package",label:"套餐列表"},{key:"/copilot-usage-history",label:"使用记录"}]},{key:"/purse",label:"钱包明细"}]);F(w,r=>{i.value=[r.path]});function I({key:r}){b.push(r)}const j=k(()=>te(x.timeStamp)),D=l.logout;function L(){open(`${Y}/oauth/discourse/redirect?callback_url=${location.origin}/redirect`,"_self")}return(r,c)=>{const m=o("router-link"),f=o("a-menu"),y=o("a-menu-item"),M=o("a-dropdown"),d=o("a-button"),N=o("a-layout-header"),U=o("router-view"),V=o("a-layout-content"),K=o("a-layout-footer"),R=o("a-layout");return u(),p(R,{class:"bg-transparent flex flex-col"},{default:e(()=>[t(N,{class:W([{dark:_(C)},"header flex items-center justify-between w-full z-10 fixed transition"]),style:X(S)},{default:e(()=>[t(m,{to:"/"},{default:e(()=>[ne]),_:1}),_(l).account_id?(u(),p(f,{key:0,selectedKeys:i.value,"onUpdate:selectedKeys":c[0]||(c[0]=T=>i.value=T),items:B.value,mode:"horizontal",onClick:I},null,8,["selectedKeys","items"])):J("",!0),_(l).account_id?(u(),p(M,{key:1},{overlay:e(()=>[t(f,null,{default:e(()=>[t(m,{to:"/order"},{default:e(()=>[t(y,null,{default:e(()=>[n("我的订单")]),_:1})]),_:1}),t(y,{onClick:_(D)},{default:e(()=>[n("退出登录")]),_:1},8,["onClick"])]),_:1})]),default:e(()=>[a("a",{class:"ant-dropdown-link",onClick:c[1]||(c[1]=O(()=>{},["prevent"]))},v(z.value.nick_name),1)]),_:1})):(u(),P("span",se,[t(d,{onClick:L},{default:e(()=>[n("登录")]),_:1})]))]),_:1},8,["class","style"]),t(V,{class:"dark:text-white pt-20 flex-1 content"},{default:e(()=>[t(U)]),_:1}),t(K,{class:"flex justify-between"},{default:e(()=>[a("div",null,[t(d,{type:"link"},{default:e(()=>[n("用户协议")]),_:1}),t(d,{type:"link"},{default:e(()=>[n("隐私政策")]),_:1})]),a("div",null,[le,a("span",re,v(j.value),1)])]),_:1})]),_:1})}}}),de=oe(ce,[["__scopeId","data-v-66af73f3"]]);export{de as default};
