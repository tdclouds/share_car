import{u as B}from"./bGNdYBnw.js";import{d as F,m as L,r as o,p as R,o as Y,a as c,b as l,c as i,g as a,e as m,w as g,F as b,G as h,H as z,q as _,R as y,y as r}from"./assets/index-C6pTAYbS.js";import{b as M}from"./CRvbJgVI.js";const q={class:"w-[1200px] max-w-full m-auto"},E={class:"flex items-start justify-between mb-4"},N={class:"flex flex-wrap gap-5 mb-5"},S={class:""},T={class:"flex items-center justify-between"},V=a("span",{class:"text-gray-600"},"充值时长",-1),G={class:"flex items-center justify-between"},W=a("span",{class:"text-gray-600"},"活动状态",-1),$={class:"flex items-center justify-between"},A=a("span",{class:"text-gray-600"},"使用记录",-1),I={class:"flex items-center justify-between"},J=a("span",{class:"text-gray-600"},"过期时间 ",-1),X=F({__name:"index",setup(K){const t=L({status:null,page:1,limit:15}),u=o(!1),f=o([]),p=o([]),w=o(0);function x(){u.value=!0}const{run:v}=B(async()=>M(z(t)).then(s=>{f.value=s.list,p.value=s.filter,k(),u.value=!1}),{debounceWait:1e3,manual:!0});function k(){p.value.forEach(s=>{s.options&&(U.value[s.name]=s.options.filter(n=>n.value!==0))})}R(t,()=>{u.value===!1&&(t.page=1),v()});const U=o({});return Y(v),(s,n)=>{const j=c("a-form-item"),C=c("a-form"),D=c("a-divider"),H=c("a-pagination");return l(),i("div",q,[a("div",E,[m(C,{class:"filter sm:hidden",layout:"inline"},{default:g(()=>[(l(!0),i(b,null,h(p.value,e=>(l(),_(j,{key:e.name,label:e.label},{default:g(()=>[e.type==="datetime"?(l(),_(y("a-date-picker"),{key:0,value:t[e.name],"onUpdate:value":d=>t[e.name]=d,placeholder:e.label,"show-time":{format:"HH:mm"},"allow-clear":"",class:"w-[180px!important] mr-2 mb-2",valueFormat:"YYYY-MM-DD HH:mm:ss"},null,40,["value","onUpdate:value","placeholder"])):(l(),_(y("a-"+e.type),{key:1,value:t[e.name],"onUpdate:value":d=>t[e.name]=d,options:e.options,placeholder:e.label,"allow-clear":"",class:"w-[180px!important] mr-2 mb-2"},null,40,["value","onUpdate:value","options","placeholder"]))]),_:2},1032,["label"]))),128))]),_:1})]),a("div",N,[(l(!0),i(b,null,h(f.value,e=>(l(),i("div",{class:"bg-white dark:bg-gray-800 p-4 rounded sm:w-full w-[386px]",key:e.source},[a("div",S,r(e.source),1),m(D,{class:"my-2"}),a("div",T,[V,a("span",null,r(e.recharge_time_label||"0"),1)]),a("div",G,[W,a("span",null,r(e.status_label||"0"),1)]),a("div",$,[A,a("span",null,r(e.reason||"无"),1)]),a("div",I,[J,a("span",null,r(e.expire_time||"不过期"),1)])]))),128))]),m(H,{class:"flex justify-center",current:t.page,"onUpdate:current":n[0]||(n[0]=e=>t.page=e),"page-size":t.limit,"onUpdate:pageSize":n[1]||(n[1]=e=>t.limit=e),total:w.value,"hide-on-single-page":!0,onChange:x,"show-total":e=>`共 ${e} 条`},null,8,["current","page-size","total","show-total"])])}}});export{X as default};
