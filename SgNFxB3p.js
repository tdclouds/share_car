import{e as t,A as T,d as q,j as F,k as G,l as Q,m as J,n as O,r as w,p as W,a as s,b as f,q as h,w as e,t as M,g as c,v as y,f as p,x as X,y as z,c as Y,z as Z,B as ee,h as te,u as oe,C as ne,D as ae,E as se,G as le,H as re}from"./assets/index-DPSsBdy6.js";import{g as ce}from"./fquX6oEn.js";import{_ as ue}from"./DlAUqK2U.js";var ie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"}}]},name:"menu",theme:"outlined"};const de=ie;function U(o){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?Object(arguments[n]):{},r=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(u){return Object.getOwnPropertyDescriptor(a,u).enumerable}))),r.forEach(function(u){pe(o,u,a[u])})}return o}function pe(o,n,a){return n in o?Object.defineProperty(o,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[n]=a,o}var x=function(n,a){var r=U({},n,a.attrs);return t(T,U({},r,{icon:de}),null)};x.displayName="MenuOutlined";x.inheritAttrs=!1;const _e=x,me="/assets/logo-QnzrzBtt.jpg",j=o=>(le("data-v-0a59cd60"),o=o(),re(),o),fe=j(()=>c("img",{alt:"logo",class:"rounded-full w-12 h-12",loading:"lazy",src:me},null,-1)),ye={class:"flex items-center"},ve={key:1},ke={class:"flex sm:flex-col"},he={class:"flex sm:flex-col"},ge=j(()=>c("span",null,"服务器时间：",-1)),be={class:"text-blue-500"},we=q({__name:"homeLayout",setup(o){const n=te(),a=oe(),r=F(),u=G(),[B]=Q(),I=J({backgroundColor:"transparent"}),v=O(()=>r.userInfo),_=w([window.location.pathname]),S=w([{key:"/home",label:"首页"},{key:"/order",label:"我的订单"},{key:"/copilot",label:"Copilot",children:[{key:"/copilot-package",label:"套餐列表"},{key:"/copilot-usage-history",label:"使用记录"}]},{key:"/purse",label:"钱包明细"}]);W(n,k=>{_.value=[k.path]});const m=w(!1);function C({key:k}){a.push(k),m.value=!1}const D=O(()=>ce(u.timeStamp)),L=r.logout;function R(){window.open(`${ne}/oauth/discourse/redirect?callback_url=${location.origin}/redirect`,"_self")}return(k,l)=>{const g=s("router-link"),b=s("a-menu"),i=s("a-button"),N=s("a-menu-item"),P=s("a-dropdown"),$=s("a-drawer"),A=s("a-layout-header"),E=s("router-view"),H=s("a-layout-content"),K=s("a-layout-footer"),V=s("a-layout");return f(),h(V,{class:"bg-transparent flex flex-col"},{default:e(()=>[t(A,{class:Z([{dark:y(B)},"header flex items-center justify-between w-full z-10 fixed transition sm:ps-[1.25rem!important] sm:pe-[1.25rem!important]"]),style:ee(I)},{default:e(()=>[t(g,{to:"/"},{default:e(()=>[fe]),_:1}),v.value.account_id?(f(),h(b,{key:0,selectedKeys:_.value,"onUpdate:selectedKeys":l[0]||(l[0]=d=>_.value=d),items:S.value,class:"flex sm:hidden",mode:"horizontal",onClick:C},null,8,["selectedKeys","items"])):M("",!0),c("div",ye,[t(i,{type:"link",href:y(ae),target:"_blank"},{default:e(()=>[p("论坛")]),_:1},8,["href"]),t(i,{type:"link",href:y(se),target:"_blank"},{default:e(()=>[p("文档")]),_:1},8,["href"]),v.value.account_id?(f(),h(P,{key:0,placement:"bottom"},{overlay:e(()=>[t(b,null,{default:e(()=>[t(N,{onClick:y(L)},{default:e(()=>[p("退出登录")]),_:1},8,["onClick"])]),_:1})]),default:e(()=>[c("a",{class:"ant-dropdown-link",onClick:l[1]||(l[1]=X(()=>{},["prevent"]))},z(v.value.nick_name||"无名氏"),1)]),_:1})):(f(),Y("span",ve,[t(i,{type:"primary",onClick:R},{default:e(()=>[p("登录")]),_:1})])),v.value.account_id?(f(),h(i,{key:2,type:m.value?"primary":"text",class:"hidden sm:block",onClick:l[2]||(l[2]=d=>m.value=!0)},{icon:e(()=>[t(y(_e))]),_:1},8,["type"])):M("",!0)]),t($,{open:m.value,"onUpdate:open":l[4]||(l[4]=d=>m.value=d),placement:"right"},{default:e(()=>[t(b,{selectedKeys:_.value,"onUpdate:selectedKeys":l[3]||(l[3]=d=>_.value=d),items:S.value,mode:"inline",style:{"border-inline-end":"0",background:"transparent"},onClick:C},null,8,["selectedKeys","items"])]),_:1},8,["open"])]),_:1},8,["class","style"]),t(H,{class:"dark:text-white flex-1 content sm:px-5 pt-20"},{default:e(()=>[t(E)]),_:1}),t(K,{class:"flex justify-between"},{default:e(()=>[c("div",ke,[t(g,{to:"/"},{default:e(()=>[t(i,{type:"link"},{default:e(()=>[p("首页")]),_:1})]),_:1}),t(g,{to:"/refund-agreement"},{default:e(()=>[t(i,{type:"link",href:"/refund-agreement"},{default:e(()=>[p("退款协议")]),_:1})]),_:1})]),c("div",he,[ge,c("span",be,z(D.value),1)])]),_:1})]),_:1})}}}),Oe=ue(we,[["__scopeId","data-v-0a59cd60"]]);export{Oe as default};
