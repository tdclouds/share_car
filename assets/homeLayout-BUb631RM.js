import{d as R,f as T,g as U,r as q,h as L,i as k,w as E,j as i,k as e,a as H,u as P,l as o,b as _,m as t,n,p as Q,q as s,e as l,t as h,s as W,c as A,v as F,x as G,y as J,z as O}from"./index-DOwwAGMQ.js";import{u as X}from"./useRequest-BL5PXQMo.js";import{g as Y,_ as Z}from"./_plugin-vue_export-helper-BNP0nQQe.js";const $="/assets/logo-QnzrzBtt.jpg",ee=r=>(J("data-v-1ce1413a"),r=r(),O(),r),te=ee(()=>l("img",{alt:"logo",class:"rounded-full w-12 h-12",loading:"lazy",src:$},null,-1)),oe={key:2},ae={class:"text-blue-500 cursor-pointer"},ne=R({__name:"homeLayout",setup(r){const v=H(),w=P(),c=T(),[g]=U(),b=q({backgroundColor:"transparent"}),x=L(()=>c.userInfo),d=k([window.location.pathname]),C=k([{key:"/home",label:"首页"},{key:"/order",label:"我的订单"},{key:"/copilot",label:"Copilot",children:[{key:"/copilot-package",label:"套餐列表"},{key:"/copilot-usage-history",label:"使用记录"}]},{key:"/purse",label:"钱包明细"}]);E(v,a=>{d.value=[a.path]});function z({key:a}){w.push(a)}const{data:S}=X(()=>new Promise(a=>{a(Y())}),{pollingInterval:1e3,pollingWhenHidden:!1}),I=c.logout;return(a,u)=>{const p=o("router-link"),m=o("a-menu"),f=o("a-menu-item"),B=o("a-dropdown"),j=o("a-layout-header"),M=o("router-view"),N=o("a-layout-content"),y=o("a-button"),V=o("a-layout-footer"),D=o("a-layout");return _(),i(D,{class:"bg-transparent flex flex-col"},{default:e(()=>[t(j,{class:F([{dark:n(g)},"header flex items-center justify-between w-full z-10 fixed transition"]),style:G(b)},{default:e(()=>[t(p,{to:"/"},{default:e(()=>[te]),_:1}),n(c).account_id?(_(),i(m,{key:0,selectedKeys:d.value,"onUpdate:selectedKeys":u[0]||(u[0]=K=>d.value=K),items:C.value,mode:"horizontal",onClick:z},null,8,["selectedKeys","items"])):Q("",!0),n(c).account_id?(_(),i(B,{key:1},{overlay:e(()=>[t(m,null,{default:e(()=>[t(p,{to:"/order"},{default:e(()=>[t(f,null,{default:e(()=>[s("我的订单")]),_:1})]),_:1}),t(f,{onClick:n(I)},{default:e(()=>[s("退出登录")]),_:1},8,["onClick"])]),_:1})]),default:e(()=>[l("a",{class:"ant-dropdown-link",onClick:u[1]||(u[1]=W(()=>{},["prevent"]))},h(x.value.nick_name),1)]),_:1})):(_(),A("span",oe))]),_:1},8,["class","style"]),t(N,{class:"dark:text-white pt-16 flex-1 content"},{default:e(()=>[t(M)]),_:1}),t(V,{class:"flex justify-between"},{default:e(()=>[l("div",null,[t(y,{type:"link"},{default:e(()=>[s("用户协议")]),_:1}),t(y,{type:"link"},{default:e(()=>[s("隐私政策")]),_:1})]),l("div",null,[s(" 服务器时间："),l("span",ae,h(n(S)),1)])]),_:1})]),_:1})}}}),ce=Z(ne,[["__scopeId","data-v-1ce1413a"]]);export{ce as default};
