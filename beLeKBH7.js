import{u as B}from"./DT8Xzw-c.js";import{d as F,r as L,l as r,w as S,o as Y,m as i,a as s,c as u,e as a,f as c,p,F as g,G as w,H as z,n as f,R as x,y as o,v as E,q as M,S as N}from"./assets/index-D1uyEbak.js";import{d as R}from"./Chl2QhpB.js";const T={class:"w-[1200px] max-w-full m-auto"},V={class:"flex items-start justify-between mb-4"},G={class:"flex flex-wrap gap-5 mb-5"},O={class:"text-center"},W={class:"flex items-center justify-between"},$=a("span",null,"使用时间",-1),A={class:"flex items-center justify-between"},I=a("span",null,"实际采集请求次数，失败请求同样计算在内",-1),J={class:"flex items-center justify-between"},K=a("span",null,"对话次数",-1),P={class:"flex items-center justify-between"},Q=a("span",null,"代码提示次数",-1),te=F({__name:"index",setup(X){const t=L({page:1,limit:15}),d=r(!1),v=r([]),_=r([]),b=r(0);function y(){d.value=!0}const{run:h}=B(async()=>R(z(t)).then(l=>{v.value=l.list,b.value=l.total,_.value=l.filter,k(),d.value=!1}),{debounceWait:1e3,manual:!0});function k(){_.value.forEach(l=>{l.options&&(C.value[l.name]=l.options.filter(n=>n.value!==0))})}S(t,()=>{d.value===!1&&(t.page=1),h()});const C=r({});return Y(h),(l,n)=>{const j=i("a-form-item"),U=i("a-form"),q=i("a-divider"),D=i("a-tooltip"),H=i("a-pagination");return s(),u("div",T,[a("div",V,[c(U,{class:"filter sm:hidden",layout:"inline"},{default:p(()=>[(s(!0),u(g,null,w(_.value,e=>(s(),f(j,{key:e.name,label:e.label},{default:p(()=>[e.type==="datetime"?(s(),f(x("a-date-picker"),{key:0,value:t[e.name],"onUpdate:value":m=>t[e.name]=m,placeholder:e.label,"show-time":{format:"HH:mm"},"allow-clear":"",class:"w-[180px!important] mr-2 mb-2",valueFormat:"YYYY-MM-DD HH:mm:ss"},null,40,["value","onUpdate:value","placeholder"])):(s(),f(x("a-"+e.type),{key:1,value:t[e.name],"onUpdate:value":m=>t[e.name]=m,options:e.options,placeholder:e.label,"allow-clear":"",class:"w-[180px!important] mr-2 mb-2"},null,40,["value","onUpdate:value","options","placeholder"]))]),_:2},1032,["label"]))),128))]),_:1})]),a("div",G,[(s(!0),u(g,null,w(v.value,e=>(s(),u("div",{class:"bg-white dark:bg-gray-800 p-4 rounded sm:w-full w-[386px]",key:e.session_no},[a("div",O,o(e.start_time)+"-"+o(e.end_time),1),c(q,{class:"my-2"}),a("div",W,[$,a("span",null,o(e.total_time_label||"0"),1)]),a("div",A,[a("span",null,[E("请求次数 "),c(D,{placement:"top"},{title:p(()=>[I]),default:p(()=>[c(M(N))]),_:1})]),a("span",null,o(e.total_req_label||"0"),1)]),a("div",J,[K,a("span",null,o(e.total_chat_req_label||"0"),1)]),a("div",P,[Q,a("span",null,o(e.total_prompt_req_label||"0"),1)])]))),128))]),c(H,{class:"flex justify-center",current:t.page,"onUpdate:current":n[0]||(n[0]=e=>t.page=e),"page-size":t.limit,"onUpdate:pageSize":n[1]||(n[1]=e=>t.limit=e),total:b.value,"hide-on-single-page":!0,onChange:y,"show-total":e=>`共 ${e} 条`},null,8,["current","page-size","total","show-total"])])}}});export{te as default};
